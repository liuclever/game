# 副本页面显示问题诊断

## 问题描述

在副本挑战页面（森林秘境 11/35层），页面显示混乱，包含大量说明文字和图标解释。

## 数据库状态

测试50级B账号的副本进度：
- 副本名称：森林秘境
- 当前层：11/35
- 本层已通关：否（floor_cleared = 0）
- 事件类型：beast（幻兽事件）
- 战利品已领取：是

## 问题分析

从代码分析，页面中显示的这些文字是**硬编码的说明文字**，位于模板的底部：

```vue
<div class="section">
  入:副本入口|?? :随机事件
</div>
<div class="section">
  怪:野生幻兽|精:精英幻兽
</div>
<div class="section">
  箱:神秘箱子|宝:巨型宝藏
</div>
<div class="section">
  BOSS:打败它即可通关
</div>
```

这些是用来解释副本中各种图标含义的说明文字。

## 可能的原因

1. **这是正常的设计**：这些说明文字本来就应该显示，用于帮助玩家理解副本规则
2. **CSS样式问题**：说明文字的样式可能不够明显，导致看起来很混乱
3. **布局问题**：说明文字应该在页面底部或侧边，但显示位置不对

## 当前状态

根据数据库，你在第11层，本层未通关，事件类型是"beast"（幻兽），所以应该：
1. 显示"本层:野生幻兽"或"本层:精英幻兽"
2. 显示"简介:挑战幻兽"
3. 显示幻兽列表和挑战按钮

## 建议的修复方案

### 方案1：隐藏或优化说明文字

如果这些说明文字不需要一直显示，可以：
1. 将说明文字移到一个"规则说明"按钮后面
2. 或者用更小的字体和不同的颜色显示
3. 或者完全移除这些说明文字

### 方案2：改进样式

如果需要保留说明文字，可以：
1. 添加明显的分隔线
2. 使用不同的背景色
3. 添加"规则说明"标题
4. 使用更小的字体

### 方案3：检查数据加载

确认副本数据是否正确加载：
1. 检查浏览器控制台是否有错误
2. 检查网络请求是否成功
3. 确认 `/api/dungeon/progress` 和 `/api/dungeon/floor/beasts` 接口返回正确

## 测试步骤

1. 打开浏览器开发者工具（F12）
2. 切换到Console标签，查看是否有错误
3. 切换到Network标签，刷新页面
4. 查看 `/api/dungeon/progress` 请求的响应
5. 查看 `/api/dungeon/floor/beasts` 请求的响应

## 临时解决方案

如果想快速测试副本功能，可以：
1. 点击"重置"按钮，重置副本进度（消耗200元宝）
2. 或者直接修改数据库，将当前层设置为1：
   ```sql
   UPDATE player_dungeon_progress 
   SET current_floor = 1, floor_cleared = 1 
   WHERE user_id = 100007 AND dungeon_name = '森林秘境'
   ```

## 需要确认的问题

1. 这些说明文字是否应该一直显示？
2. 页面上方是否应该显示幻兽列表和挑战按钮？
3. 浏览器控制台是否有JavaScript错误？
4. 网络请求是否成功返回数据？
